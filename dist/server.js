'use strict';const a2_0x1c084a=a2_0x5d2b;(function(_0x17afae,_0x1adfd3){const _0x3aa94f=a2_0x5d2b,_0x3568bd=_0x17afae();while(!![]){try{const _0x532148=parseInt(_0x3aa94f(0xdf))/0x1*(-parseInt(_0x3aa94f(0x9d))/0x2)+-parseInt(_0x3aa94f(0x9f))/0x3+-parseInt(_0x3aa94f(0xe7))/0x4+parseInt(_0x3aa94f(0xae))/0x5*(parseInt(_0x3aa94f(0xc6))/0x6)+parseInt(_0x3aa94f(0xac))/0x7*(-parseInt(_0x3aa94f(0xa2))/0x8)+-parseInt(_0x3aa94f(0xb8))/0x9+parseInt(_0x3aa94f(0xd0))/0xa;if(_0x532148===_0x1adfd3)break;else _0x3568bd['push'](_0x3568bd['shift']());}catch(_0x6583d0){_0x3568bd['push'](_0x3568bd['shift']());}}}(a2_0x3023,0x9d5ba));var __createBinding=this&&this[a2_0x1c084a(0xc2)]||(Object[a2_0x1c084a(0xc4)]?function(_0x5aff66,_0x261350,_0x5b4ec0,_0x1055f9){const _0x26e7e4=a2_0x1c084a;if(_0x1055f9===undefined)_0x1055f9=_0x5b4ec0;var _0x622e1d=Object['getOwnPropertyDescriptor'](_0x261350,_0x5b4ec0);(!_0x622e1d||(_0x26e7e4(0xce)in _0x622e1d?!_0x261350['__esModule']:_0x622e1d[_0x26e7e4(0xb5)]||_0x622e1d[_0x26e7e4(0xda)]))&&(_0x622e1d={'enumerable':!![],'get':function(){return _0x261350[_0x5b4ec0];}}),Object[_0x26e7e4(0xe4)](_0x5aff66,_0x1055f9,_0x622e1d);}:function(_0x3e0e9a,_0x1d3b82,_0x1432c2,_0x2cf1be){if(_0x2cf1be===undefined)_0x2cf1be=_0x1432c2;_0x3e0e9a[_0x2cf1be]=_0x1d3b82[_0x1432c2];}),__setModuleDefault=this&&this[a2_0x1c084a(0xe3)]||(Object[a2_0x1c084a(0xc4)]?function(_0x480e9f,_0x1a4351){const _0x2c7be1=a2_0x1c084a;Object[_0x2c7be1(0xe4)](_0x480e9f,_0x2c7be1(0xd8),{'enumerable':!![],'value':_0x1a4351});}:function(_0x22364c,_0x169e59){_0x22364c['default']=_0x169e59;}),__importStar=this&&this['__importStar']||function(_0x28925f){const _0xbe302c=a2_0x1c084a;if(_0x28925f&&_0x28925f['__esModule'])return _0x28925f;var _0xc48c8f={};if(_0x28925f!=null){for(var _0xc32c88 in _0x28925f)if(_0xc32c88!=='default'&&Object[_0xbe302c(0xdc)]['hasOwnProperty']['call'](_0x28925f,_0xc32c88))__createBinding(_0xc48c8f,_0x28925f,_0xc32c88);}return __setModuleDefault(_0xc48c8f,_0x28925f),_0xc48c8f;},__awaiter=this&&this['__awaiter']||function(_0x59425e,_0x88cf4b,_0xd14ef9,_0x3ad037){function _0x5bd058(_0x445749){return _0x445749 instanceof _0xd14ef9?_0x445749:new _0xd14ef9(function(_0x222557){_0x222557(_0x445749);});}return new(_0xd14ef9||(_0xd14ef9=Promise))(function(_0x592252,_0x42897e){const _0x5e0bba=a2_0x5d2b;function _0x4acbf7(_0x7ef966){const _0x2d5ef2=a2_0x5d2b;try{_0x3ec0ac(_0x3ad037[_0x2d5ef2(0x9b)](_0x7ef966));}catch(_0x47ef7d){_0x42897e(_0x47ef7d);}}function _0x44167d(_0x54e3c5){const _0x7beec4=a2_0x5d2b;try{_0x3ec0ac(_0x3ad037[_0x7beec4(0xb2)](_0x54e3c5));}catch(_0x2c85b5){_0x42897e(_0x2c85b5);}}function _0x3ec0ac(_0x18e827){const _0x237631=a2_0x5d2b;_0x18e827['done']?_0x592252(_0x18e827['value']):_0x5bd058(_0x18e827['value'])[_0x237631(0xd6)](_0x4acbf7,_0x44167d);}_0x3ec0ac((_0x3ad037=_0x3ad037['apply'](_0x59425e,_0x88cf4b||[]))[_0x5e0bba(0x9b)]());});},__importDefault=this&&this[a2_0x1c084a(0xca)]||function(_0x5846d9){const _0x4f3944=a2_0x1c084a;return _0x5846d9&&_0x5846d9[_0x4f3944(0xa3)]?_0x5846d9:{'default':_0x5846d9};};Object['defineProperty'](exports,a2_0x1c084a(0xa3),{'value':!![]});function a2_0x3023(){const _0x1e7620=['finally','30DaopFW','push','detectAsync','center=','__importDefault','Mat','distance','response','get','map','36579280QBymxi','message','utf-8','parse','toString','connection','then','getTime','default','name','configurable','size','prototype','abs','img\x5ct.png','1lXwIUB','descriptorMatchsJ','trainIdx','app','__setModuleDefault','defineProperty','computeAsync','screenshot-desktop','2072836UTqGkl','slice','getRegion','BFMatcher','Vec2','floor','apply','enkanomiya','next','KeyPoint','2424164BoOaGz','cols','2145399QLoqMp','split','octave','62504dGtMYH','__esModule','data\x5c','WebSocketServer','match','length','@u4/opencv4nodejs','Point2','SKIP','readFileSync','231JqRTwe','log','516660WiTEMn','resize','queryIdx','descriptorMatchsI','throw','minDeg','ImgDescriptors.dat','writable','@u4/opencv-build','send','7441173oHgtRj','IMREAD_GRAYSCALE','dist','rows','sougan','OpenCVBuildEnv','NORM_HAMMING2','atan2','norm','env','__createBinding','imreadAsync','create'];a2_0x3023=function(){return _0x1e7620;};return a2_0x3023();}const opencvBuild=__importStar(require(a2_0x1c084a(0xb6))),cv=__importStar(require(a2_0x1c084a(0xa8))),opencv4nodejs_1=require(a2_0x1c084a(0xa8)),fs=__importStar(require('fs')),screenshot_desktop_1=__importDefault(require(a2_0x1c084a(0xe6))),ws_1=require('ws');console[a2_0x1c084a(0xad)]=(function(){const _0x145527=a2_0x1c084a,_0x56648e=console['log'],_0x83ec0e=new Date()[_0x145527(0xd7)]();return function(){const _0x261ac2=_0x145527,_0x2dc1f3=new Date()[_0x261ac2(0xd7)]()-_0x83ec0e,_0x101795=[];_0x101795[_0x261ac2(0xc7)]((_0x2dc1f3/0x3e8)['toFixed'](0x2)+':');for(let _0x2f15d7=0x0;_0x2f15d7<arguments['length'];_0x2f15d7++){_0x101795[_0x261ac2(0xc7)](arguments[_0x2f15d7]);}_0x56648e[_0x261ac2(0xed)](console,_0x101795);};}()),process[a2_0x1c084a(0xc1)]['OPENCV_BIN_DIR']=new opencvBuild[(a2_0x1c084a(0xbd))]()['opencvBinDir'],process[a2_0x1c084a(0xc1)]['path']+=';'+new opencvBuild[(a2_0x1c084a(0xbd))]()['opencvBinDir'];const homePath=__dirname[a2_0x1c084a(0xa0)](a2_0x1c084a(0xba))[0x0],resourcesPath=homePath[a2_0x1c084a(0xa0)](a2_0x1c084a(0xe2))[0x0],akaze=new opencv4nodejs_1['AKAZEDetector'](),wss=new ws_1[(a2_0x1c084a(0xa5))]({'port':0x6cfc}),dimensions={0x2:{'name':a2_0x1c084a(0xcf),'x':0x1b5a,'y':0x466},0x7:{'name':a2_0x1c084a(0x9a),'x':0x745,'y':0x6f7},0x9:{'name':a2_0x1c084a(0xbc),'x':0x7eb,'y':0x7a6}};function a2_0x5d2b(_0x32cb41,_0x337883){const _0x3023a5=a2_0x3023();return a2_0x5d2b=function(_0x5d2bf4,_0x33d5d7){_0x5d2bf4=_0x5d2bf4-0x9a;let _0x43fc95=_0x3023a5[_0x5d2bf4];return _0x43fc95;},a2_0x5d2b(_0x32cb41,_0x337883);}let clientDimension='2';const showCapture=_0x2b8d9d=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){}),findMap=_0x2d6cd5=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x125490=a2_0x1c084a;yield(0x0,screenshot_desktop_1[_0x125490(0xd8)])({'filename':resourcesPath+_0x125490(0xde)});const _0x1ecfc5=yield cv[_0x125490(0xc3)](resourcesPath+_0x125490(0xde),cv[_0x125490(0xb9)]),_0x5c627d=new cv['Rect'](Math[_0x125490(0xec)](_0x1ecfc5[_0x125490(0x9e)]*0.03125),Math[_0x125490(0xec)](_0x1ecfc5[_0x125490(0xbb)]*0x11/0x438),Math[_0x125490(0xec)](_0x1ecfc5[_0x125490(0xbb)]*0xd7/0x438),Math[_0x125490(0xec)](_0x1ecfc5['rows']*0xd7/0x438)),_0x2c77d2=_0x1ecfc5[_0x125490(0xe9)](_0x5c627d);showCapture(_0x2c77d2);const _0x534e61=_0x2c77d2[_0x125490(0xaf)](0x258,0x258),_0x15cfd8=yield akaze[_0x125490(0xc8)](_0x534e61),_0x2d7213=yield akaze[_0x125490(0xe5)](_0x534e61,_0x15cfd8),_0x542fe9=JSON['parse'](fs[_0x125490(0xab)](resourcesPath+(_0x125490(0xa4)+_0x2d6cd5[_0x125490(0xd9)]+'ImgKeyPoints.dat'),_0x125490(0xd2)))[_0x125490(0xcf)](_0x3ce853=>new cv[(_0x125490(0x9c))](new cv[(_0x125490(0xa9))](_0x3ce853['pt']['x'],_0x3ce853['pt']['y']),_0x3ce853[_0x125490(0xdb)],_0x3ce853['angle'],_0x3ce853[_0x125490(0xcd)],_0x3ce853[_0x125490(0xa1)],_0x3ce853['class_id'])),_0x3ff80a=new cv[(_0x125490(0xcb))](JSON[_0x125490(0xd3)](fs[_0x125490(0xab)](resourcesPath+(_0x125490(0xa4)+_0x2d6cd5['name']+_0x125490(0xb4)),_0x125490(0xd2))),0x0),_0x41cfc7=new cv[(_0x125490(0xea))](cv[_0x125490(0xbe)]),_0x412f31=_0x41cfc7[_0x125490(0xa6)](_0x2d7213,_0x3ff80a);if(_0x412f31[_0x125490(0xa7)]===0x0)return;const _0x19546a=0x28,_0x3a4e5b=_0x412f31['sort']((_0x1ab907,_0x23fd28)=>_0x1ab907[_0x125490(0xcc)]-_0x23fd28[_0x125490(0xcc)])[_0x125490(0xe8)](0x0,_0x19546a),_0x3226f1=[];for(let _0x33c051=0x0;_0x33c051<_0x3a4e5b['length']-0x1;_0x33c051++){const _0x870426={'minDeg':0x168,'descriptorMatchsI':_0x3a4e5b[_0x33c051]};for(let _0x54224e=_0x33c051+0x1;_0x54224e<_0x3a4e5b[_0x125490(0xa7)];_0x54224e++){if(_0x33c051==_0x54224e)continue;const _0x115a88=Math[_0x125490(0xbf)](_0x542fe9[_0x3a4e5b[_0x33c051][_0x125490(0xe1)]]['pt']['y']-_0x542fe9[_0x3a4e5b[_0x54224e]['trainIdx']]['pt']['y'],_0x542fe9[_0x3a4e5b[_0x33c051][_0x125490(0xe1)]]['pt']['x']-_0x542fe9[_0x3a4e5b[_0x54224e]['trainIdx']]['pt']['x']),_0xa2e1b4=Math['atan2'](_0x15cfd8[_0x3a4e5b[_0x33c051][_0x125490(0xb0)]]['pt']['y']-_0x15cfd8[_0x3a4e5b[_0x54224e][_0x125490(0xb0)]]['pt']['y'],_0x15cfd8[_0x3a4e5b[_0x33c051][_0x125490(0xb0)]]['pt']['x']-_0x15cfd8[_0x3a4e5b[_0x54224e]['queryIdx']]['pt']['x']);let _0x514c2c=_0x115a88*(0xb4/Math['PI'])%0x168,_0x5bdc9d=_0xa2e1b4*(0xb4/Math['PI'])%0x168;_0x514c2c=_0x514c2c<0x0?0x168+_0x514c2c:_0x514c2c,_0x5bdc9d=_0x5bdc9d<0x0?0x168+_0x5bdc9d:_0x5bdc9d;const _0x5c76be=Math[_0x125490(0xdd)](_0x514c2c-_0x5bdc9d);if(isNaN(_0x5c76be))continue;_0x870426['minDeg']>_0x5c76be&&(_0x870426[_0x125490(0xe0)]=_0x3a4e5b[_0x54224e],_0x870426['minDeg']=_0x5c76be);}if(_0x870426[_0x125490(0xb3)]>0.2||_0x870426['descriptorMatchsI'][_0x125490(0xcc)]>0x32)continue;_0x3226f1['push'](_0x870426[_0x125490(0xb1)]);if(_0x870426['descriptorMatchsJ']===undefined||_0x870426[_0x125490(0xe0)]['distance']>0x32)continue;_0x3226f1[_0x125490(0xc7)](_0x870426[_0x125490(0xe0)]);}if(_0x3226f1[_0x125490(0xa7)]<0x2)return;_0x3226f1[_0x125490(0xe8)](0x0,0x2);const _0x339de2=new opencv4nodejs_1['Vec2'](_0x542fe9[_0x3226f1[0x0][_0x125490(0xe1)]]['pt']['x']-_0x542fe9[_0x3226f1[0x1][_0x125490(0xe1)]]['pt']['x'],_0x542fe9[_0x3226f1[0x0]['trainIdx']]['pt']['y']-_0x542fe9[_0x3226f1[0x1][_0x125490(0xe1)]]['pt']['y'])[_0x125490(0xc0)]()/new opencv4nodejs_1[(_0x125490(0xeb))](_0x15cfd8[_0x3226f1[0x0][_0x125490(0xb0)]]['pt']['x']-_0x15cfd8[_0x3226f1[0x1][_0x125490(0xb0)]]['pt']['x'],_0x15cfd8[_0x3226f1[0x0][_0x125490(0xb0)]]['pt']['y']-_0x15cfd8[_0x3226f1[0x1]['queryIdx']]['pt']['y'])[_0x125490(0xc0)](),_0xb441b3=new opencv4nodejs_1['Vec2'](0x12c-_0x15cfd8[_0x3226f1[0x0][_0x125490(0xb0)]]['pt']['x'],0x12c-_0x15cfd8[_0x3226f1[0x0][_0x125490(0xb0)]]['pt']['y'])['mul'](_0x339de2)['add'](new opencv4nodejs_1[(_0x125490(0xeb))](_0x542fe9[_0x3226f1[0x0]['trainIdx']]['pt']['x'],_0x542fe9[_0x3226f1[0x0][_0x125490(0xe1)]]['pt']['y'])),{x:_0x204ae0,y:_0x389974}=_0xb441b3,_0x1ac9d4=_0x125490(0xc9)+Math[_0x125490(0xec)]((_0x389974-_0x2d6cd5['y'])*0x64)/0x64+','+Math[_0x125490(0xec)]((_0x204ae0-_0x2d6cd5['x'])*0x64)/0x64;return _0x1ac9d4;});let processing=![];const sendClient=(_0x3e68da,_0x1aebd8)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0xa7dea6=a2_0x1c084a;console[_0xa7dea6(0xad)](_0x1aebd8);if(processing){console[_0xa7dea6(0xad)](_0xa7dea6(0xaa));return;}processing=!![],findMap(_0x1aebd8)[_0xa7dea6(0xd6)](_0x1ebc89=>{const _0x1a3da9=_0xa7dea6;console[_0x1a3da9(0xad)](_0x1ebc89);if(!_0x1ebc89)return;_0x3e68da[_0x1a3da9(0xb7)](_0x1ebc89);})['catch'](_0x43c365=>{})[_0xa7dea6(0xc5)](()=>{processing=![];});});wss['on'](a2_0x1c084a(0xd5),_0x5df3b7=>{const _0x55da2c=a2_0x1c084a;_0x5df3b7['on'](_0x55da2c(0xd1),_0x4dd58d=>{const _0x1f0c03=_0x55da2c;clientDimension=_0x4dd58d[_0x1f0c03(0xd4)](),void sendClient(_0x5df3b7,dimensions[+clientDimension]);});});